!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.reactRouter5=e.reactRouter5||{},e.React)}(this,function(e,t){"use strict";function r(e){return function(){return e}}function n(e){var r=function(r){function n(e,t){d(this,n);var r=b(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.router=t.router,r.state={previousRoute:null,route:r.router.getState()},r.listener=r.listener.bind(r),r}return h(n,r),y(n,[{key:"componentDidMount",value:function(){var e=this;j(this.router.hasPlugin("LISTENERS_PLUGIN"),"[react-router5][withRoute] missing listeners plugin"),this.listener=function(t,r){return e.setState({previousRoute:r,route:t})},this.router.addListener(this.listener)}},{key:"componentWillUnmount",value:function(){this.router.removeListener(this.listener)}},{key:"listener",value:function(e,t){this.setState({previousRoute:t,route:e})}},{key:"render",value:function(){return j(!this.props.router&&!this.props.route&&!this.props.previousRoute,"[react-router5] prop names `router`, `route` and `previousRoute` are reserved."),t.createElement(e,v({},this.props,this.state,{router:this.router}))}}]),n}(t.Component);return r.contextTypes={router:w.object.isRequired},r.displayName="WithRoute["+T(e)+"]",r}var o="default"in t?t.default:t,i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var u=i,a=function(e){};"production"!==process.env.NODE_ENV&&(a=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")});var s=function(e,t,r,n,o,i,u,s){if(a(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,n,o,i,u,s],p=0;(c=new Error(t.replace(/%s/g,function(){return l[p++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},c=u;"production"!==process.env.NODE_ENV&&function(){var e=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0,i="Warning: "+e.replace(/%s/g,function(){return r[o++]});"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}};c=function(t,r){if(void 0===r)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==r.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];e.apply(void 0,[r].concat(o))}}}();var l=c,p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},m=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};if("production"!==process.env.NODE_ENV)var g=s,O=l,R=p,k={};var N=function(e,t,r,n,o){if("production"!==process.env.NODE_ENV)for(var i in e)if(e.hasOwnProperty(i)){var u;try{g("function"==typeof e[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",n||"React class",r,i),u=e[i](t,i,n,r,null,R)}catch(e){u=e}if(O(!u||u instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",n||"React class",r,i,void 0===u?"undefined":f(u)),u instanceof Error&&!(u.message in k)){k[u.message]=!0;var a=o?o():"";O(!1,"Failed %s type: %s%s",r,u.message,null!=a?a:"")}}},E=function(e,t){function r(e){var t=e&&(b&&e[b]||e[g]);if("function"==typeof t)return t}function n(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function o(e){this.message=e,this.stack=""}function i(e){function r(r,u,a,c,f,d,y){if(c=c||O,d=d||a,y!==p)if(t)s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var v=c+":"+a;!n[v]&&i<3&&(l(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,c),n[v]=!0,i++)}return null==u[a]?r?new o(null===u[a]?"The "+f+" `"+d+"` is marked as required in `"+c+"`, but its value is `null`.":"The "+f+" `"+d+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(u,a,c,f,d)}if("production"!==process.env.NODE_ENV)var n={},i=0;var u=r.bind(null,!1);return u.isRequired=r.bind(null,!0),u}function a(e){return i(function(t,r,n,i,u,a){var s=t[r];return y(s)!==e?new o("Invalid "+i+" `"+u+"` of type `"+v(s)+"` supplied to `"+n+"`, expected `"+e+"`."):null})}function c(t){switch(void 0===t?"undefined":f(t)){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var n=r(t);if(!n)return!1;var o,i=n.call(t);if(n!==t.entries){for(;!(o=i.next()).done;)if(!c(o.value))return!1}else for(;!(o=i.next()).done;){var u=o.value;if(u&&!c(u[1]))return!1}return!0;default:return!1}}function d(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function y(e){var t=void 0===e?"undefined":f(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":d(t,e)?"symbol":t}function v(e){if(void 0===e||null===e)return""+e;var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function h(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function m(e){return e.constructor&&e.constructor.name?e.constructor.name:O}var b="function"==typeof Symbol&&Symbol.iterator,g="@@iterator",O="<<anonymous>>",R={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:i(u.thatReturnsNull),arrayOf:function(e){return i(function(t,r,n,i,u){if("function"!=typeof e)return new o("Property `"+u+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var a=t[r];if(!Array.isArray(a))return new o("Invalid "+i+" `"+u+"` of type `"+y(a)+"` supplied to `"+n+"`, expected an array.");for(var s=0;s<a.length;s++){var c=e(a,s,n,i,u+"["+s+"]",p);if(c instanceof Error)return c}return null})},element:function(){return i(function(t,r,n,i,u){var a=t[r];return e(a)?null:new o("Invalid "+i+" `"+u+"` of type `"+y(a)+"` supplied to `"+n+"`, expected a single ReactElement.")})}(),instanceOf:function(e){return i(function(t,r,n,i,u){if(!(t[r]instanceof e)){var a=e.name||O;return new o("Invalid "+i+" `"+u+"` of type `"+m(t[r])+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}return null})},node:function(){return i(function(e,t,r,n,i){return c(e[t])?null:new o("Invalid "+n+" `"+i+"` supplied to `"+r+"`, expected a ReactNode.")})}(),objectOf:function(e){return i(function(t,r,n,i,u){if("function"!=typeof e)return new o("Property `"+u+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var a=t[r],s=y(a);if("object"!==s)return new o("Invalid "+i+" `"+u+"` of type `"+s+"` supplied to `"+n+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,n,i,u+"."+c,p);if(l instanceof Error)return l}return null})},oneOf:function(e){return Array.isArray(e)?i(function(t,r,i,u,a){for(var s=t[r],c=0;c<e.length;c++)if(n(s,e[c]))return null;return new o("Invalid "+u+" `"+a+"` of value `"+s+"` supplied to `"+i+"`, expected one of "+JSON.stringify(e)+".")}):("production"!==process.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOf, expected an instance of array."),u.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&l(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),u.thatReturnsNull;for(var t=0;t<e.length;t++){var r=e[t];if("function"!=typeof r)return l(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",h(r),t),u.thatReturnsNull}return i(function(t,r,n,i,u){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,r,n,i,u,p))return null;return new o("Invalid "+i+" `"+u+"` supplied to `"+n+"`.")})},shape:function(e){return i(function(t,r,n,i,u){var a=t[r],s=y(a);if("object"!==s)return new o("Invalid "+i+" `"+u+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var f=l(a,c,n,i,u+"."+c,p);if(f)return f}}return null})}};return o.prototype=Error.prototype,R.checkPropTypes=N,R.PropTypes=R,R},P=function(){function e(e,t,r,n,o,i){i!==p&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return r.checkPropTypes=u,r.PropTypes=r,r},w=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){if("production"!==process.env.NODE_ENV){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=E(function(e){return"object"===(void 0===e?"undefined":f(e))&&null!==e&&e.$$typeof===t},!0)}else e.exports=P()}),_=function(e){function t(e,r){d(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.router=r.router,n.router.hasPlugin("BROWSER_PLUGIN")||console.error("[react-router5][BaseLink] missing browser plugin, href might be build incorrectly"),n.isActive=n.isActive.bind(n),n.clickHandler=n.clickHandler.bind(n),n.callback=n.callback.bind(n),n.state={active:n.isActive()},n}return h(t,e),y(t,[{key:"buildUrl",value:function(e,t){return this.router.buildUrl?this.router.buildUrl(e,t):this.router.buildPath(e,t)}},{key:"isActive",value:function(){return this.router.isActive(this.props.routeName,this.props.routeParams,this.props.activeStrict)}},{key:"callback",value:function(e,t){!e&&this.props.successCallback&&this.props.successCallback(t),e&&this.props.errorCallback&&this.props.errorCallback(e)}},{key:"clickHandler",value:function(e){if(!this.props.onClick||(this.props.onClick(e),!e.defaultPrevented)){var t=e.metaKey||e.altKey||e.ctrlKey||e.shiftKey;0!==e.button||t||(e.preventDefault(),this.router.navigate(this.props.routeName,this.props.routeParams,this.props.routeOptions,this.callback))}}},{key:"render",value:function(){var e=this.props,t=e.routeName,r=e.routeParams,n=(e.routeOptions,e.className),i=e.activeClassName,u=(e.activeStrict,e.route,e.previousRoute,e.router,e.children),a=(e.onClick,m(e,["routeName","routeParams","routeOptions","className","activeClassName","activeStrict","route","previousRoute","router","children","onClick"])),s=this.isActive(),c=this.buildUrl(t,r),l=(n?n.split(" "):[]).concat(s?[i]:[]).join(" ");return o.createElement("a",v({},a,{href:c,className:l,onClick:this.clickHandler}),u)}}]),t}(t.Component);_.contextTypes={router:w.object.isRequired},_.propTypes={routeName:w.string.isRequired,routeParams:w.object,routeOptions:w.object,activeClassName:w.string,activeStrict:w.bool,onClick:w.func,onMouseOver:w.func,successCallback:w.func,errorCallback:w.func},_.defaultProps={activeClassName:"active",activeStrict:!1,routeParams:{},routeOptions:{}};var T=function(e){return e.displayName||e.name||"Component"},j=function(e,t){if(!e)throw new Error(t)},S=function(e){function r(e,t){d(this,r);var n=b(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.router=e.router,n}return h(r,e),y(r,[{key:"getChildContext",value:function(){return{router:this.router}}},{key:"componentWillReceiveProps",value:function(e){this.props.router!==e.router&&console.error("[react-router5][RouterProvider] does not support changing the router object.")}},{key:"render",value:function(){var e=this.props.children;return t.Children.only(e)}}]),r}(t.Component);S.propTypes={router:w.object.isRequired,children:w.element.isRequired},S.childContextTypes={router:w.object.isRequired};var x=n(_);e.BaseLink=_,e.routeNode=function(e){return function(r){var n=function(n){function o(e,t){d(this,o);var r=b(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));return r.router=t.router,r.state={previousRoute:null,route:r.router.getState()},r}return h(o,n),y(o,[{key:"componentDidMount",value:function(){var t=this;j(this.router.hasPlugin("LISTENERS_PLUGIN"),"[react-router5][routeNode] missing listeners plugin"),this.nodeListener=function(e,r){return t.setState({previousRoute:r,route:e})},this.router.addNodeListener(e,this.nodeListener)}},{key:"componentWillUnmount",value:function(){this.router.removeNodeListener(e,this.nodeListener)}},{key:"render",value:function(){var e=this.props,n=this.router,o=this.state,i=o.previousRoute,u=o.route;return t.createElement(r,v({},e,{router:n,previousRoute:i,route:u}))}}]),o}(t.Component);return n.contextTypes={router:w.object.isRequired},n.displayName="RouteNode["+T(r)+"]",n}},e.RouterProvider=S,e.withRoute=n,e.Link=x,Object.defineProperty(e,"__esModule",{value:!0})});
